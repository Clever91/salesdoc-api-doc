# üìò SET-–º–µ—Ç–æ–¥—ã ‚Äî –°–∫–ª–∞–¥ –∏ –ó–∞–∫–∞–∑—ã (11‚Äì12)

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](README.md)

---

## 11. –°–∫–ª–∞–¥

### 11.1. `setWarehouse` ‚Äî –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥—ã

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setWarehouse",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "warehouse": [
            {
                "code_1C": "WH001",
                "name": "–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫–ª–∞–¥",
                "active": true
            }
        ]
    }
}
```

---

### 11.2. `setStock` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∫–ª–∞–¥—Å–∫–∏–µ –æ—Å—Ç–∞—Ç–∫–∏ (–ò–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è —Å–∫–ª–∞–¥–∞. –û–±–Ω–æ–≤–ª—è–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ –≤—Å–µ—Ö –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ–±–Ω—É–ª—è–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ **–Ω–µ –±—ã–ª–∏** –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∑–∞–ø—Ä–æ—Å–µ.

> ‚ö†Ô∏è **Rate limit:** –ú–∞–∫—Å–∏–º—É–º 5 –∑–∞–ø—Ä–æ—Å–æ–≤ –∑–∞ 5 —Å–µ–∫—É–Ω–¥.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setStock",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "warehouse": [
            {
                "code_1C": "WH001",
                "date": "2025-06-15 12:00:00",
                "dont_zero_others": false,
                "products": [
                    {
                        "code_1C": "000000015",
                        "quantity": 100,
                        "price": 15000.00
                    },
                    {
                        "code_1C": "000000016",
                        "quantity": 50,
                        "price": 12000.00
                    }
                ]
            }
        ]
    }
}
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–ª–∞–¥–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` / `SD_id` | string | ‚úÖ | ID —Å–∫–ª–∞–¥–∞ |
| `date` | string | ‚ùå | –î–∞—Ç–∞ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∞—è) |
| `dont_zero_others` | bool | ‚ùå | `true` ‚Äî –Ω–µ –æ–±–Ω—É–ª—è—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ —Ç–æ–≤–∞—Ä–æ–≤, –Ω–µ —É–∫–∞–∑–∞–Ω–Ω—ã—Ö –≤ –∑–∞–ø—Ä–æ—Å–µ |
| `products` | array | ‚úÖ | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º |

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–æ–≤–∞—Ä–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` / `SD_id` | string | ‚úÖ | ID —Ç–æ–≤–∞—Ä–∞ |
| `quantity` | float | ‚úÖ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (‚â• 0) |
| `price` | float | ‚ùå | –°–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å |

---

### 11.3. `setPurchase` ‚Äî –ü—Ä–∏—Ö–æ–¥ —Ç–æ–≤–∞—Ä–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø—Ä–∏—Ö–æ–¥–∞ (–∑–∞–∫—É–ø–∫–∏) —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥. –î–ª—è –ø–æ–∏—Å–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è CS_id / SD_id / code_1C (—Å–º. –ø–æ—Ä—è–¥–æ–∫ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ 07-set-references).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setPurchase",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "purchase": [
            {
                "date": "2025-06-15 10:00:00",
                "comment": "–ó–∞–∫—É–ø–∫–∞ –æ—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫–∞",
                "priceType": { "code_1C": "000000001" },
                "store": { "code_1C": "WH001" },
                "shipper": { "code_1C": "SHIP001" },
                "products": [
                    {
                        "code_1C": "000000015",
                        "quantity": 100,
                        "price": 12000.00
                    },
                    {
                        "code_1C": "000000016",
                        "quantity": 50,
                        "price": 11500.00,
                        "mfg_date": "2025-01-10",
                        "exp_date": "2026-01-10"
                    }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `CS_id` / `SD_id` / `code_1C` | string | ‚ùå (–æ–¥–∏–Ω –∏–∑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—Ä–∏—Ö–æ–¥–∞ (–µ—Å–ª–∏ –ø—É—Å—Ç–æ ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤—ã–π) |
| `date` | string | ‚úÖ | –î–∞—Ç–∞ –ø—Ä–∏—Ö–æ–¥–∞ (`Y-m-d H:i:s`) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã (–∑–∞–∫—É–ø–æ—á–Ω—ã–π, TYPE=1). CS_id / SD_id / code_1C |
| `store` | object | ‚úÖ | –°–∫–ª–∞–¥. CS_id / SD_id / code_1C |
| `shipper` | object | ‚ùå | –ü–æ—Å—Ç–∞–≤—â–∏–∫. CS_id / SD_id / code_1C (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Å—Ç–∞–≤—â–∏–∫) |
| `products` | array | ‚úÖ | –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Ü–µ–Ω–æ–π |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ products:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `CS_id` / `SD_id` / `code_1C` | string | ‚úÖ (–æ–¥–∏–Ω –∏–∑) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ |
| `quantity` | float | ‚úÖ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ (‚â• 0) |
| `price` | float | ‚úÖ | –¶–µ–Ω–∞ (‚â• 0) |
| `mfg_date` | string | ‚ùå | –î–∞—Ç–∞ –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è (Y-m-d) |
| `exp_date` | string | ‚ùå | –°—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ (Y-m-d) |

---

### 11.4. `setMovement` ‚Äî –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –º–µ–∂–¥—É –¥–≤—É–º—è —Å–∫–ª–∞–¥–∞–º–∏. –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–µ–ª—å–∑—è. –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–Ω–∏–∫–∞–ª—å–Ω—ã–π `code_1C` –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setMovement",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "movement": [
            {
                "code_1C": "MOV000001",
                "date": "2025-06-15 07:00:00",
                "comment": "–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–∞ —Å–∫–ª–∞–¥ –∞–≥–µ–Ω—Ç–∞",
                "storeFrom": { "code_1C": "WH001" },
                "storeTo": { "code_1C": "WH002" },
                "products": [
                    { "code_1C": "000000015", "quantity": 50 },
                    { "code_1C": "000000016", "quantity": 30 }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` | string | ‚úÖ | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–∏–∑ 1–°). –ù–µ –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ–º |
| `date` | string | ‚úÖ | –î–∞—Ç–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è (`Y-m-d H:i:s`) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `storeFrom` | object | ‚úÖ | –°–∫–ª–∞–¥-–∏—Å—Ç–æ—á–Ω–∏–∫. CS_id / SD_id / code_1C |
| `storeTo` | object | ‚úÖ | –°–∫–ª–∞–¥-–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ. CS_id / SD_id / code_1C |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–Ω–∞ —Å–∫–ª–∞–¥–µ-–∏—Å—Ç–æ—á–Ω–∏–∫–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ) |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ products:** `CS_id` / `SD_id` / `code_1C` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞; `quantity` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (float).

---

### 11.5. `setVsExchange` ‚Äî –û–±–º–µ–Ω —Ç–æ–≤–∞—Ä–æ–≤ (Vansel)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ–±–º–µ–Ω–∞ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ (—Å—Ö–µ–º–∞ Vansel). –ê–≥–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Ç–∏–ø–∞ VanSelling; –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∫–ª–∞–¥ –∞–≥–µ–Ω—Ç–∞.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setVsExchange",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "vsExchange": [
            {
                "date": "2025-06-15 08:00:00",
                "comment": "–û–±–º–µ–Ω —Ç–æ–≤–∞—Ä–∞",
                "priceType": { "code_1C": "000000001" },
                "store": { "code_1C": "WH001" },
                "agent": { "code_1C": "000000003" },
                "products": [
                    { "code_1C": "000000015", "quantity": 20 },
                    { "code_1C": "000000016", "quantity": 10 }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `CS_id` / `SD_id` / `code_1C` | string | ‚ùå (–æ–¥–∏–Ω –∏–∑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ–±–º–µ–Ω–∞ |
| `date` | string | ‚úÖ | –î–∞—Ç–∞ (`Y-m-d H:i:s`) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã (TYPE=2). CS_id / SD_id / code_1C |
| `store` | object | ‚úÖ | –°–∫–ª–∞–¥-–∏—Å—Ç–æ—á–Ω–∏–∫. CS_id / SD_id / code_1C |
| `agent` | object | ‚úÖ | –ê–≥–µ–Ω—Ç —Ç–∏–ø–∞ Vansel. CS_id / SD_id / code_1C |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ products:** –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ (CS_id / SD_id / code_1C), `quantity` (float, > 0). –¶–µ–Ω–∞ –º–æ–∂–µ—Ç –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –∏–∑ –ø—Ä–∞–π—Å–∞.

---

### 11.6. `setMovingToFilial` ‚Äî –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ —Ñ–∏–ª–∏–∞–ª

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–æ–≤ –∏–∑ —Å–∫–ª–∞–¥–∞ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞ –Ω–∞ —Å–∫–ª–∞–¥ –¥—Ä—É–≥–æ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞. –í –∑–∞–ø—Ä–æ—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è `storeFrom` –∏ `movingTo` (—Ñ–∏–ª–∏–∞–ª –∏ —Å–∫–ª–∞–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è) —Å **CS_id** (–ø—Ä–µ—Ñ–∏–∫—Å —Ñ–∏–ª–∏–∞–ª–∞). –°–æ–∑–¥–∞—ë—Ç—Å—è –≤–æ–∑–≤—Ä–∞—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫—É –≤ —Ç–µ–∫—É—â–µ–º —Ñ–∏–ª–∏–∞–ª–µ –∏ –ø—Ä–∏—Ö–æ–¥ –≤ —Ü–µ–ª–µ–≤–æ–º —Ñ–∏–ª–∏–∞–ª–µ.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setMovingToFilial",
    "auth": { "userId": "d0_1", "token": "..." },
    "filial": { "filial_id": "F1" },
    "data": {
        "moving": [
            {
                "date": "2025-06-15 12:00:00",
                "comment": "–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ —Ñ–∏–ª–∏–∞–ª F2",
                "priceType": { "code_1C": "000000001" },
                "storeFrom": { "CS_id": "F1-d0_1" },
                "movingTo": {
                    "filialId": "F2",
                    "storeTo": { "CS_id": "F2-d0_1" }
                },
                "products": [
                    { "code_1C": "000000015", "quantity": 100, "price": 12000.00 },
                    { "code_1C": "000000016", "quantity": 50, "price": 11500.00 }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `date` | string | ‚úÖ | –î–∞—Ç–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã (–∑–∞–∫—É–ø–æ—á–Ω—ã–π). CS_id / SD_id / code_1C |
| `storeFrom` | object | ‚úÖ | –°–∫–ª–∞–¥ —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∏–ª–∏–∞–ª–∞; **CS_id –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º —Ñ–∏–ª–∏–∞–ª–∞) |
| `movingTo` | object | ‚úÖ | –§–∏–ª–∏–∞–ª –∏ —Å–∫–ª–∞–¥ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è |
| `movingTo.filialId` | string | ‚úÖ | –ö–æ–¥ —Ñ–∏–ª–∏–∞–ª–∞ (xml_id) |
| `movingTo.storeTo` | object | ‚úÖ | –°–∫–ª–∞–¥ —Ñ–∏–ª–∏–∞–ª–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è; **CS_id –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä, `quantity`, `price` |

---

### 11.7. `setSupplierReturn` ‚Äî –í–æ–∑–≤—Ä–∞—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫—É

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ç–æ–≤–∞—Ä–∞ –ø–æ—Å—Ç–∞–≤—â–∏–∫—É —Å–æ —Å–∫–ª–∞–¥–∞. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –Ω–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setSupplierReturn",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "return": [
            {
                "date": "2025-06-15 14:00:00",
                "comment": "–í–æ–∑–≤—Ä–∞—Ç –±—Ä–∞–∫–∞",
                "priceType": { "code_1C": "000000001" },
                "store": { "code_1C": "WH001" },
                "products": [
                    { "code_1C": "000000015", "quantity": 5, "price": 12000.00 },
                    { "code_1C": "000000016", "quantity": 3, "price": 11500.00 }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `CS_id` / `SD_id` / `code_1C` | string | ‚ùå (–æ–¥–∏–Ω –∏–∑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| `date` | string | ‚úÖ | –î–∞—Ç–∞ (`Y-m-d H:i:s`) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã. CS_id / SD_id / code_1C |
| `store` | object | ‚úÖ | –°–∫–ª–∞–¥. CS_id / SD_id / code_1C |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã: –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (CS_id / SD_id / code_1C), `quantity` (> 0), `price` |

---

### 11.8. `setExcretion` ‚Äî –°–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∞–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ —Å–æ —Å–∫–ª–∞–¥–∞. –£–º–µ–Ω—å—à–∞–µ—Ç –æ—Å—Ç–∞—Ç–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ. –ù–∞–ª–∏—á–∏–µ —Ç–æ–≤–∞—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setExcretion",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "excretion": [
            {
                "date": "2025-06-15 16:00:00",
                "comment": "–°–ø–∏—Å–∞–Ω–∏–µ –ø–æ –∞–∫—Ç—É",
                "fromStore": { "code_1C": "WH001" },
                "products": [
                    { "code_1C": "000000015", "quantity": 10 },
                    { "code_1C": "000000016", "quantity": 5 }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `CS_id` / `SD_id` / `code_1C` | string | ‚ùå (–æ–¥–∏–Ω –∏–∑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è |
| `date` | string | ‚úÖ | –î–∞—Ç–∞ —Å–ø–∏—Å–∞–Ω–∏—è (—Ñ–æ—Ä–º–∞—Ç `Y-m-d H:i:s` –∏–ª–∏ ISO-8601) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `fromStore` | object | ‚úÖ | –°–∫–ª–∞–¥. CS_id / SD_id / code_1C |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ (–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ) |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ products:** –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ (CS_id / SD_id / code_1C), `quantity` (float, > 0).

---

### 11.9. `setCorrection` ‚Äî –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –æ—Å—Ç–∞—Ç–∫–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –†—É—á–Ω–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å–∫–ª–∞–¥—Å–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è **—Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞–Ω–∏–µ** –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤; —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö (–ø–æ SD_id –∏–ª–∏ –ø–æ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É code_1C) –∑–∞–ø—Ä–µ—â–µ–Ω–æ. –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º –Ω–∞–ø—Ä—è–º—É—é –≤ `data`. –°–∫–ª–∞–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω –∫ —Å–æ–∑–¥–∞–Ω–Ω–æ–º—É —Å–∫–ª–∞–¥—É. `quantity` –≤ –ø–æ–∑–∏—Ü–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º (—É–≤–µ–ª–∏—á–µ–Ω–∏–µ) –∏–ª–∏ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º (—É–º–µ–Ω—å—à–µ–Ω–∏–µ); –∏—Ç–æ–≥–æ–≤—ã–π –æ—Å—Ç–∞—Ç–æ–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —Å—Ç–∞—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setCorrection",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": [
        {
            "code_1C": "COR000001",
            "date": "2025-06-15 18:00:00",
            "warehouse": { "code_1C": "WH001" },
            "products": [
                { "code_1C": "000000015", "quantity": 5.0 },
                { "code_1C": "000000016", "quantity": -2.0 }
            ]
        }
    ]
}
```

**–ü–æ–ª—è —ç–ª–µ–º–µ–Ω—Ç–∞ (–∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞ `data`):**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` | string | ‚ùå | –ö–æ–¥ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ 1–° (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–æ–≤–æ–≥–æ; –µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω –∏ —É–∂–µ –µ—Å—Ç—å ‚Äî –æ—à–∏–±–∫–∞) |
| `SD_id` | ‚Äî | ‚ùå | –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å; —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ SD_id –∑–∞–ø—Ä–µ—â–µ–Ω–æ |
| `date` | string | ‚ùå | –î–∞—Ç–∞ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ç–µ–∫—É—â–∞—è) |
| `warehouse` | object | ‚úÖ | –°–∫–ª–∞–¥. CS_id / SD_id / code_1C |
| `products` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã –∏ —Ä–∞–∑–Ω–∏—Ü–∞ –æ—Å—Ç–∞—Ç–∫–∞ (+ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ, ‚àí —É–º–µ–Ω—å—à–µ–Ω–∏–µ) |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ products:** –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ (CS_id / SD_id / code_1C), `quantity` (float; –º–æ–∂–µ—Ç –±—ã—Ç—å –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º). –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ –Ω–æ–≤—ã–π –æ—Å—Ç–∞—Ç–æ–∫ ‚â• 0.

---

## 12. –ó–∞—è–≤–∫–∏ (–ó–∞–∫–∞–∑—ã)

### 12.1. `setOrder` ‚Äî –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞ (–∑–∞—è–≤–∫–∏). –í–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É –æ—Å—Ç–∞—Ç–∫–æ–≤, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –±–æ–Ω—É—Å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setOrder",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "order": [
            {
                "code_1C": "ORD000001",
                "status": 1,
                "dateCreate": "2025-06-15 10:00:00",
                "dateShipment": "2025-06-16",
                "comment": "–°—Ä–æ—á–Ω—ã–π –∑–∞–∫–∞–∑",
                "consignment": false,
                "consigDate": null,
                "client": { "code_1C": "000000100" },
                "agent": { "code_1C": "000000003" },
                "expeditor": { "code_1C": "000000005" },
                "priceType": { "code_1C": "000000001" },
                "warehouse": { "code_1C": "WH001" },
                "auto_attach_expeditor": false,
                "debtDateExp": null,
                "orderProducts": [
                    {
                        "product": { "code_1C": "000000015" },
                        "quantity": 10,
                        "price": 15000.00,
                        "discount": 5,
                        "returned": 0
                    }
                ],
                "bonusProducts": []
            }
        ]
    }
}
```

**–ü–æ–ª—è –∑–∞–∫–∞–∑–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` / `SD_id` | string | ‚úÖ | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ |
| `status` | int | ‚úÖ | –°—Ç–∞—Ç—É—Å (1-5) |
| `dateCreate` | string | ‚ùå | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è |
| `dateShipment` | string | ‚ùå | –î–∞—Ç–∞ –æ—Ç–≥—Ä—É–∑–∫–∏ |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
| `consignment` | bool | ‚ùå | –ö–æ–Ω—Å–∏–≥–Ω–∞—Ü–∏—è |
| `consigDate` | string | ‚ùå | –î–∞—Ç–∞ –∫–æ–Ω—Å–∏–≥–Ω–∞—Ü–∏–∏ |
| `client` | object | ‚úÖ | –ö–ª–∏–µ–Ω—Ç |
| `agent` | object | ‚úÖ | –ê–≥–µ–Ω—Ç |
| `expeditor` | object | ‚ùå | –≠–∫—Å–ø–µ–¥–∏—Ç–æ—Ä |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã |
| `warehouse` | object | ‚úÖ | –°–∫–ª–∞–¥ |
| `auto_attach_expeditor` | bool | ‚ùå | –ê–≤—Ç–æ–ø—Ä–∏–≤—è–∑–∫–∞ —ç–∫—Å–ø–µ–¥–∏—Ç–æ—Ä–∞ |
| `debtDateExp` | string | ‚ùå | –î–∞—Ç–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è –¥–æ–ª–≥–∞ |
| `orderProducts` | array | ‚úÖ | –¢–æ–≤–∞—Ä—ã –∑–∞–∫–∞–∑–∞ |
| `bonusProducts` | array | ‚ùå | –ë–æ–Ω—É—Å–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã |

**–ü–æ–ª—è –ø—Ä–æ–¥—É–∫—Ç–∞ –∑–∞–∫–∞–∑–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `product` | object | –¢–æ–≤–∞—Ä (`code_1C` / `SD_id`) |
| `quantity` | float | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ |
| `price` | float | –¶–µ–Ω–∞ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî –±–µ—Ä—ë—Ç—Å—è –∏–∑ –ø—Ä–∞–π—Å–∞) |
| `discount` | float | –°–∫–∏–¥–∫–∞ –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö (0-100) |
| `returned` | float | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ |

**–°—Ç–∞—Ç—É—Å—ã –∑–∞–∫–∞–∑–æ–≤:**

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| 1 | –ù–æ–≤—ã–π |
| 2 | –û—Ç–ø—Ä–∞–≤–ª–µ–Ω |
| 3 | –î–æ—Å—Ç–∞–≤–ª–µ–Ω |
| 4 | –ó–∞–∫—Ä—ã—Ç |
| 5 | –û—Ç–º–µ–Ω—ë–Ω |

---

### 12.2. `setDeletedOrder` ‚Äî –û—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—Ç–º–µ–Ω–∞ –∑–∞–∫–∞–∑–∞ (—É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ 5 ‚Äî –û—Ç–º–µ–Ω—ë–Ω).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setDeletedOrder",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "deletedOrder": [
            {
                "code_1C": "ORD000001"
            }
        ]
    }
}
```

---

### 12.3. `setStatus` ‚Äî –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–∞–∫–∞–∑–æ–≤.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setStatus",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "order": [
            {
                "code_1C": "ORD000001",
                "status": 3,
                "dateShipment": "2025-06-16"
            }
        ]
    }
}
```

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` / `SD_id` | string | ‚úÖ | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∑–∞–∫–∞–∑–∞ |
| `status` | int | ‚úÖ | –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å |
| `dateShipment` | string | ‚ùå | –î–∞—Ç–∞ –æ—Ç–≥—Ä—É–∑–∫–∏ (—Ñ–æ—Ä–º–∞—Ç: Y-m-d) |

---

### 12.4. `setCode` ‚Äî –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–¥ 1–° –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∫–∞ XML_ID (–∫–æ–¥–∞ 1–°) –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–∑–∞–∫–∞–∑—ã, –≤–æ–∑–≤—Ä–∞—Ç—ã, –æ–±–º–µ–Ω—ã –∏ –¥—Ä.).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setCode",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "document": "Order",
        "documents": [
            {
                "SD_id": "d0_300",
                "code_1C": "ORD000001"
            }
        ]
    }
}
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ç–∏–ø—ã –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:**
- `Order` ‚Äî –ó–∞–∫–∞–∑
- `OrderDefect` ‚Äî –í–æ–∑–≤—Ä–∞—Ç –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞
- `OrderReplace` ‚Äî –û–±–º–µ–Ω
- `Purchase` ‚Äî –ü—Ä–∏—Ö–æ–¥ (–∑–∞–∫—É–ø–∫–∞)
- `PurchaseRefund` ‚Äî –í–æ–∑–≤—Ä–∞—Ç –ø–æ—Å—Ç–∞–≤—â–∏–∫—É
- `Exchange` ‚Äî –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–∫–ª–∞–¥–∞–º–∏
- `VsExchange` ‚Äî –û–±–º–µ–Ω (Vansel)
- `Excretion` ‚Äî –°–ø–∏—Å–∞–Ω–∏–µ
- –õ—é–±–∞—è –¥—Ä—É–≥–∞—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –º–æ–¥–µ–ª—å —Å –ø–æ–ª–µ–º code_1C

---

### 12.5. `setOrderDefect` ‚Äî –°–æ–∑–¥–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ —Ç–æ–≤–∞—Ä–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (–≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **¬´–í–æ–∑–≤—Ä–∞—Ç —Å –ø–æ–ª–∫–∏¬ª**). –î–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤–æ–∑–≤—Ä–∞—Ç —Ç–æ–≤–∞—Ä–∞ –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –Ω–∞ —Å–∫–ª–∞–¥: –∫–ª–∏–µ–Ω—Ç, –∞–≥–µ–Ω—Ç, —Å–∫–ª–∞–¥, —Ç–∏–ø —Ü–µ–Ω—ã –∏ —Å–ø–∏—Å–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –∏ —Ü–µ–Ω–æ–π.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "setOrderDefect",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": {
        "orderDefect": [
            {
                "code_1C": "DEF000001",
                "status": 1,
                "dateCreate": "2025-06-15 10:00:00",
                "dateDefect": "2025-06-15",
                "comment": "–ë—Ä–∞–∫",
                "client": { "code_1C": "000000100" },
                "agent": { "code_1C": "000000003" },
                "expeditor": { "code_1C": "000000005" },
                "priceType": { "code_1C": "000000001" },
                "warehouse": { "code_1C": "WH001" },
                "defectProducts": [
                    {
                        "product": { "code_1C": "000000015" },
                        "quantity": 5,
                        "price": 15000.00
                    }
                ]
            }
        ]
    }
}
```

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `code_1C` / `SD_id` | string | ‚úÖ (–æ–¥–∏–Ω –∏–∑) | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| `status` | int | ‚úÖ | –°—Ç–∞—Ç—É—Å (1‚Äì5) |
| `dateCreate` | string | ‚ùå | –î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è (`Y-m-d H:i:s`) |
| `dateDefect` | string | ‚ùå | –î–∞—Ç–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ (Y-m-d) |
| `comment` | string | ‚ùå | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–ø—Ä–∏—á–∏–Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞) |
| `client` | object | ‚úÖ | –ö–ª–∏–µ–Ω—Ç. CS_id / SD_id / code_1C |
| `agent` | object | ‚úÖ | –ê–≥–µ–Ω—Ç. CS_id / SD_id / code_1C |
| `expeditor` | object | ‚ùå | –≠–∫—Å–ø–µ–¥–∏—Ç–æ—Ä. CS_id / SD_id / code_1C |
| `priceType` | object | ‚úÖ | –¢–∏–ø —Ü–µ–Ω—ã. CS_id / SD_id / code_1C |
| `warehouse` | object | ‚úÖ | –°–∫–ª–∞–¥. CS_id / SD_id / code_1C |
| `defectProducts` | array | ‚úÖ | –°–ø–∏—Å–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤ |

**–ü–æ–ª—è —Ç–æ–≤–∞—Ä–∞ –≤ defectProducts:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `product` | object | ‚úÖ | –¢–æ–≤–∞—Ä. CS_id / SD_id / code_1C |
| `quantity` | float | ‚úÖ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| `price` | float | ‚ùå | –¶–µ–Ω–∞ (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ ‚Äî –∏–∑ –ø—Ä–∞–π—Å–∞) |

---

### 12.6. `syncOrder` ‚Äî –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–∫–∞–∑–æ–≤

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü—Ä–∏—Å–≤–æ–µ–Ω–∏–µ –∫–æ–¥–∞ 1–° –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–æ–≤, –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –∏ –æ–±–º–µ–Ω–æ–≤. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –≤ 1–°: –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ–¥–∞—ë—Ç `SD_id` –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∏–∑ SalesDoc –∏ –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–π –≤ 1–° –∫–æ–¥ (`code_order` –¥–ª—è –∑–∞–∫–∞–∑–∞, `code_return` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞, `code_replace` –¥–ª—è –æ–±–º–µ–Ω–∞). –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –º–æ–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –Ω–æ–≤—ã–π `status` (1‚Äì5).

**–¢–∏–ø–∏—á–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ç–æ—Ä–∞:**

1. **–ü–æ–ª—É—á–∏—Ç—å –Ω–µ—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã** ‚Äî –≤ –º–µ—Ç–æ–¥–∞—Ö `getOrder`, `getOrderDefect`, `getOrderReplace` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∏–ª—å—Ç—Ä **`filter.include`**:
   - `"include": "sd"` ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ SalesDoc (–∫–∞–∫ –ø—Ä–∞–≤–∏–ª–æ, –µ—â—ë –±–µ–∑ –∫–æ–¥–∞ 1–°). –£–¥–æ–±–Ω–æ, —á—Ç–æ–±—ã –≤—ã–±–∏—Ä–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ –∑–∞–∫–∞–∑—ã/–≤–æ–∑–≤—Ä–∞—Ç—ã/–æ–±–º–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ 1–° –∏ –∑–∞—Ç–µ–º ¬´–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å¬ª —á–µ—Ä–µ–∑ `syncOrder`.
   - `"include": "1c"` ‚Äî —Ç–æ–ª—å–∫–æ –¥–æ–∫—É–º–µ–Ω—Ç—ã, —É–∂–µ –∏–º–µ—é—â–∏–µ –∫–æ–¥ 1–° (—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ).
   - `"include": "all"` ‚Äî –≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É.
2. –ü–µ—Ä–µ–¥–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –≤ 1–°, –ø–æ–ª—É—á–∏—Ç—å –æ—Ç 1–° –ø—Ä–∏—Å–≤–æ–µ–Ω–Ω—ã–µ –∫–æ–¥—ã.
3. –í—ã–∑–≤–∞—Ç—å **`syncOrder`**, –ø–µ—Ä–µ–¥–∞–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ `SD_id` –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∫–æ–¥—ã (`code_order`, `code_return`, `code_replace`) –∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ `status`.
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–∑–æ–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º; –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∑–∞–ø—Ä–æ—Å–∞—Ö —Å `include: "1c"` –æ–Ω –±—É–¥–µ—Ç –ø–æ–ø–∞–¥–∞—Ç—å –≤ –≤—ã–±–æ—Ä–∫—É.

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "syncOrder",
    "auth": { "userId": "d0_1", "token": "..." },
    "data": [
        {
            "SD_id": "d0_300",
            "code_order": "ORD000001",
            "status": 3
        },
        {
            "SD_id": "d0_301",
            "code_return": "RET000001",
            "code_replace": "REP000001",
            "status": 3
        }
    ]
}
```

**–ü–æ–ª—è:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|:---:|----------|
| `SD_id` | string | ‚úÖ | ID –∑–∞–∫–∞–∑–∞ –≤ SalesDoc |
| `code_order` | string | ‚ùå* | –ö–æ–¥ –∑–∞–∫–∞–∑–∞ –≤ 1–° |
| `code_return` | string | ‚ùå* | –ö–æ–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ 1–° |
| `code_replace` | string | ‚ùå | –ö–æ–¥ –æ–±–º–µ–Ω–∞ –≤ 1–° |
| `status` | int | ‚ùå | –ù–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å (1‚Äì5). –ï—Å–ª–∏ 0 –∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω ‚Äî —Å—Ç–∞—Ç—É—Å –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è |

> *–î–æ–ª–∂–Ω–æ –±—ã—Ç—å —É–∫–∞–∑–∞–Ω–æ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∏–∑ –ø–æ–ª–µ–π: `code_order`, `code_return`, `code_replace` (–¥–ª—è –æ–±–º–µ–Ω–∞ ‚Äî –æ–±–∞ `code_return` –∏ `code_replace`).

**–û—Ç–≤–µ—Ç:** –í –æ—Ç–ª–∏—á–∏–µ –æ—Ç –¥—Ä—É–≥–∏—Ö SET-–º–µ—Ç–æ–¥–æ–≤, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç —Å –º–∞—Å—Å–∏–≤–∞–º–∏ `completed` (—É—Å–ø–µ—à–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ `data`) –∏ `failed` (—ç–ª–µ–º–µ–Ω—Ç—ã —Å –æ—à–∏–±–∫–æ–π –∏ –ø–æ–ª–µ–º `error`). –ü–∞–≥–∏–Ω–∞—Ü–∏–∏ –Ω–µ—Ç.

---

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](README.md) | [–î–∞–ª–µ–µ: –ö–∞—Å—Å–∞, –§–æ—Ç–æ, –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ ‚Üí](09-finance-photo-extra.md)

