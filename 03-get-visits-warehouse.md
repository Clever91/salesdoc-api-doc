# üìò GET-–º–µ—Ç–æ–¥—ã ‚Äî –í–∏–∑–∏—Ç—ã, –°–∫–ª–∞–¥—ã, –û—Å—Ç–∞—Ç–∫–∏ (9.21‚Äì9.25)

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](API_V2_Documentation.md)

---

### 9.21. `getVisit` ‚Äî –í–∏–∑–∏—Ç—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ –≤–∏–∑–∏—Ç–∞—Ö –∞–≥–µ–Ω—Ç–æ–≤ –∫ –∫–ª–∏–µ–Ω—Ç–∞–º. –í–∫–ª—é—á–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–ª–∞–Ω–æ–≤—ã—Ö –∏ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏—Ö –≤–∏–∑–∏—Ç–∞—Ö, GPS-—Å—Ç–∞—Ç—É—Å, –Ω–∞–ª–∏—á–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏ —Ñ–æ—Ç–æ–æ—Ç—á—ë—Ç–æ–≤.

**–§–∏–ª—å—Ç—Ä—ã:**

| –§–∏–ª—å—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `filter.period.date.from/to` | –ü–µ—Ä–∏–æ–¥ –ø–æ –¥–∞—Ç–µ –≤–∏–∑–∏—Ç–∞ |

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "getVisit",
    "auth": { "userId": "d0_1", "token": "..." },
    "params": {
        "filter": {
            "period": {
                "date": {
                    "from": "2025-06-01",
                    "to": "2025-06-30"
                }
            }
        }
    }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "status": true,
    "result": {
        "visit": [
            {
                "agent_id": "d0_3",
                "agent_name": "–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω",
                "client_id": "d0_100",
                "client_name": "–ú–∞–≥–∞–∑–∏–Ω \"–ó–≤–µ–∑–¥–∞\"",
                "category_name": "–û–ø—Ç–æ–≤—ã–π",
                "date": "2025-06-15",
                "start_date": "2025-06-15 10:00:00",
                "end_date": "2025-06-15 10:30:00",
                "planned": 1,
                "visited": 1,
                "reject": "",
                "has_photo_report": 1,
                "gps_visit": 1,
                "has_order": 1,
                "order_summa": 5000000.00
            }
        ]
    },
    "pagination": { "limit": 1000, "total": 150, "page": 1 }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `agent_id` | string | ID –∞–≥–µ–Ω—Ç–∞ |
| `agent_name` | string | –ò–º—è –∞–≥–µ–Ω—Ç–∞ |
| `client_id` | string | ID –∫–ª–∏–µ–Ω—Ç–∞ |
| `client_name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ |
| `category_name` | string | –ö–∞—Ç–µ–≥–æ—Ä–∏—è –∫–ª–∏–µ–Ω—Ç–∞ |
| `date` | string | –î–∞—Ç–∞ –≤–∏–∑–∏—Ç–∞ |
| `start_date` | string | –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ –≤–∏–∑–∏—Ç–∞ (check-in) |
| `end_date` | string | –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∏–∑–∏—Ç–∞ (check-out) |
| `planned` | int | –ü–ª–∞–Ω–æ–≤—ã–π –≤–∏–∑–∏—Ç: `1` ‚Äî –¥–∞, `0` ‚Äî –Ω–µ—Ç |
| `visited` | int | –§–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –≤–∏–∑–∏—Ç: `1` ‚Äî –¥–∞, `0` ‚Äî –Ω–µ—Ç |
| `reject` | string | –ü—Ä–∏—á–∏–Ω–∞ –æ—Ç–∫–∞–∑–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å, —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `has_photo_report` | int | –ù–∞–ª–∏—á–∏–µ —Ñ–æ—Ç–æ–æ—Ç—á—ë—Ç–∞: `1` ‚Äî –¥–∞, `0` ‚Äî –Ω–µ—Ç |
| `gps_visit` | int | GPS-–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ: `1` ‚Äî –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω, `0` ‚Äî –Ω–µ—Ç |
| `has_order` | int | –ù–∞–ª–∏—á–∏–µ –∑–∞–∫–∞–∑–∞: `1` ‚Äî –¥–∞, `0` ‚Äî –Ω–µ—Ç |
| `order_summa` | float | –°—É–º–º–∞ –∑–∞–∫–∞–∑–æ–≤ –∑–∞ –≤–∏–∑–∏—Ç |

---

### 9.22. `getWarehouse` ‚Äî –°–∫–ª–∞–¥—ã

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–∫–ª–∞–¥–æ–≤ (—Ç–∏–ø: –æ–±—ã—á–Ω—ã–π —Å–∫–ª–∞–¥).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "getWarehouse",
    "auth": { "userId": "d0_1", "token": "..." }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "status": true,
    "result": {
        "warehouse": [
            {
                "CS_id": "F1-d0_1",
                "SD_id": "d0_1",
                "code_1C": "WH001",
                "name": "–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫–ª–∞–¥",
                "active": "Y"
            }
        ]
    },
    "pagination": { "limit": 1000, "total": 3, "page": 1 }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `CS_id` | string | –í–Ω–µ—à–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º —Ñ–∏–ª–∏–∞–ª–∞) |
| `SD_id` | string | –°–µ—Ä–≤–µ—Ä–Ω—ã–π ID |
| `code_1C` | string | –ö–æ–¥ —Å–∫–ª–∞–¥–∞ –≤ 1–° |
| `name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞ |
| `active` | string | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: `Y` ‚Äî –∞–∫—Ç–∏–≤–µ–Ω, `N` ‚Äî –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω |

---

### 9.23. `getDefectWarehouse` ‚Äî –°–∫–ª–∞–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å–∫–ª–∞–¥–æ–≤ –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ (–¥–µ—Ñ–µ–∫—Ç–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤).

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "getDefectWarehouse",
    "auth": { "userId": "d0_1", "token": "..." }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "status": true,
    "result": {
        "warehouse": [
            {
                "CS_id": "F1-d0_10",
                "SD_id": "d0_10",
                "code_1C": "WHD001",
                "name": "–°–∫–ª–∞–¥ –≤–æ–∑–≤—Ä–∞—Ç–∞",
                "active": "Y"
            }
        ]
    },
    "pagination": { "limit": 1000, "total": 1, "page": 1 }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `CS_id` | string | –í–Ω–µ—à–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (—Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º —Ñ–∏–ª–∏–∞–ª–∞) |
| `SD_id` | string | –°–µ—Ä–≤–µ—Ä–Ω—ã–π ID |
| `code_1C` | string | –ö–æ–¥ —Å–∫–ª–∞–¥–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤ 1–° |
| `name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞ –≤–æ–∑–≤—Ä–∞—Ç–∞ |
| `active` | string | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: `Y` ‚Äî –∞–∫—Ç–∏–≤–µ–Ω, `N` ‚Äî –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω |

---

### 9.24. `getStock` ‚Äî –û—Å—Ç–∞—Ç–∫–∏

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö —Å–∫–ª–∞–¥—Å–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤, —Å–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ —Å–∫–ª–∞–¥–∞–º.

**–§–∏–ª—å—Ç—Ä—ã:**

| –§–∏–ª—å—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `params.store.SD_id` | –§–∏–ª—å—Ç—Ä –ø–æ ID —Å–∫–ª–∞–¥–∞ |
| `params.category.SD_id` | –§–∏–ª—å—Ç—Ä –ø–æ ID –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–∞ |

**–ó–∞–ø—Ä–æ—Å (—Ñ–∏–ª—å—Ç—Ä –ø–æ —Å–∫–ª–∞–¥—É):**
```json
{
    "method": "getStock",
    "auth": { "userId": "d0_1", "token": "..." },
    "params": {
        "store": { "SD_id": "d0_1" }
    }
}
```

**–ó–∞–ø—Ä–æ—Å (—Ñ–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–∞):**
```json
{
    "method": "getStock",
    "auth": { "userId": "d0_1", "token": "..." },
    "params": {
        "category": { "SD_id": "d0_3" }
    }
}
```

**–ó–∞–ø—Ä–æ—Å (–∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–æ–≤: —Å–∫–ª–∞–¥ + –∫–∞—Ç–µ–≥–æ—Ä–∏—è):**
```json
{
    "method": "getStock",
    "auth": { "userId": "d0_1", "token": "..." },
    "params": {
        "store": { "SD_id": "d0_1" },
        "category": { "SD_id": "d0_3" }
    }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "status": true,
    "result": {
        "warehouse": [
            {
                "CS_id": "F1-d0_1",
                "SD_id": "d0_1",
                "code_1C": "WH001",
                "name": "–û—Å–Ω–æ–≤–Ω–æ–π —Å–∫–ª–∞–¥",
                "active": "Y",
                "products": [
                    {
                        "CS_id": "d0_15",
                        "SD_id": "d0_15",
                        "name": "–ö–æ–∫–∞-–ö–æ–ª–∞ 1.5–ª",
                        "code_1C": "000000015",
                        "active": "Y",
                        "quantity": 100.0
                    }
                ]
            }
        ]
    },
    "pagination": { "limit": 1000, "total": 500, "page": 1 }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| **warehouse** | array | –ú–∞—Å—Å–∏–≤ —Å–∫–ª–∞–¥–æ–≤ |
| `warehouse[].CS_id` | string | –í–Ω–µ—à–Ω–∏–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Å–∫–ª–∞–¥–∞ |
| `warehouse[].SD_id` | string | –°–µ—Ä–≤–µ—Ä–Ω—ã–π ID —Å–∫–ª–∞–¥–∞ |
| `warehouse[].code_1C` | string | –ö–æ–¥ —Å–∫–ª–∞–¥–∞ –≤ 1–° |
| `warehouse[].name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Å–∫–ª–∞–¥–∞ |
| `warehouse[].active` | string | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å: `Y` ‚Äî –∞–∫—Ç–∏–≤–µ–Ω, `N` ‚Äî –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω |
| **warehouse[].products** | array | –ú–∞—Å—Å–∏–≤ —Ç–æ–≤–∞—Ä–æ–≤ –Ω–∞ —Å–∫–ª–∞–¥–µ |
| `products[].CS_id` | string | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–æ–≤–∞—Ä–∞ |
| `products[].SD_id` | string | –°–µ—Ä–≤–µ—Ä–Ω—ã–π ID —Ç–æ–≤–∞—Ä–∞ |
| `products[].name` | string | –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ |
| `products[].code_1C` | string | –ö–æ–¥ —Ç–æ–≤–∞—Ä–∞ –≤ 1–° |
| `products[].active` | string | –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ç–æ–≤–∞—Ä–∞ |
| `products[].quantity` | float | –û—Å—Ç–∞—Ç–æ–∫ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ —Å–∫–ª–∞–¥–µ |

---

### 9.25. `getStockForDate` ‚Äî –û—Å—Ç–∞—Ç–∫–∏ –Ω–∞ –¥–∞—Ç—É

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∫–ª–∞–¥—Å–∫–∏—Ö –æ—Å—Ç–∞—Ç–∫–æ–≤ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∞—Ç—É. –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∂—É—Ä–Ω–∞–ª–∞ —Å–∫–ª–∞–¥—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

> ‚ö†Ô∏è **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
> - –ï—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî –ª–∏–º–∏—Ç 1 –∑–∞–ø—Ä–æ—Å –∑–∞ 5 –º–∏–Ω—É—Ç
> - –ï—Å–ª–∏ –Ω–µ –≤–∫–ª—é—á—ë–Ω ‚Äî –º–µ—Ç–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω **—Ç–æ–ª—å–∫–æ** —Å 20:00 –¥–æ 08:00
> - –î–∞—Ç–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤ —Ñ–æ—Ä–º–∞—Ç–µ ISO-8601

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `params.date` | string | –î–∞—Ç–∞ (ISO-8601) |
| `params.store` | object | –°–∫–ª–∞–¥ (`CS_id` / `SD_id` / `code_1C`) |

**–ó–∞–ø—Ä–æ—Å:**
```json
{
    "method": "getStockForDate",
    "auth": { "userId": "d0_1", "token": "..." },
    "params": {
        "date": "2025-06-15",
        "store": { "code_1C": "WH001" }
    }
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
    "status": true,
    "result": {
        "date": "2025-06-15",
        "store": { "code_1C": "WH001" },
        "stock": [
            {
                "SD_id": "d0_15",
                "code_1C": "000000015",
                "amount": 85.0
            },
            {
                "SD_id": "d0_16",
                "code_1C": "000000016",
                "amount": 42.0
            }
        ]
    }
}
```

**–ü–æ–ª—è –æ—Ç–≤–µ—Ç–∞:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `date` | string | –ó–∞–ø—Ä–æ—à–µ–Ω–Ω–∞—è –¥–∞—Ç–∞ |
| **store** | object | –°–∫–ª–∞–¥ |
| `store.code_1C` | string | –ö–æ–¥ —Å–∫–ª–∞–¥–∞ –≤ 1–° |
| **stock** | array | –ú–∞—Å—Å–∏–≤ –æ—Å—Ç–∞—Ç–∫–æ–≤ —Ç–æ–≤–∞—Ä–æ–≤ |
| `stock[].SD_id` | string | –°–µ—Ä–≤–µ—Ä–Ω—ã–π ID —Ç–æ–≤–∞—Ä–∞ |
| `stock[].code_1C` | string | –ö–æ–¥ —Ç–æ–≤–∞—Ä–∞ –≤ 1–° |
| `stock[].amount` | float | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞ –Ω–∞ –¥–∞—Ç—É |

---

[‚Üê –ù–∞–∑–∞–¥ –∫ –æ–≥–ª–∞–≤–ª–µ–Ω–∏—é](API_V2_Documentation.md) | [–î–∞–ª–µ–µ: –ó–∞–∫–∞–∑—ã ‚Üí](04-get-orders.md)

